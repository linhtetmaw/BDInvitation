<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You're Invited! A Birthday Celebration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Sora:wght@400&display=swap" rel="stylesheet">
    <style>
        /* General body styling for a futuristic dark theme */
        body {
            font-family: 'Sora', sans-serif;
            background: #0d0d0d;
            color: #e2e8f0;
            background-image: radial-gradient(circle at center, #2d3748, #0d0d0d);
        }
        /* Main card container styling */
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2.5rem;
            background-color: #1a202c;
            border-radius: 2rem;
            box-shadow: 0 0 40px rgba(0, 248, 141, 0.2);
            backdrop-filter: blur(10px);
            animation: fadeIn 1s ease-in-out;
            border: 2px solid #00F88D;
            transition: all 0.3s ease-in-out;
        }
        /* Hover effect for the main container */
        .container:hover {
            box-shadow: 0 0 60px rgba(0, 248, 141, 0.4);
        }
        /* Fade-in animation for the entire page on load */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Styling for headers using Orbitron font and glowing text-shadow */
        h1, h2 {
            font-family: 'Orbitron', sans-serif;
            color: #00F88D;
            text-shadow: 0 0 10px rgba(0, 248, 141, 0.7);
        }
        h1 {
            font-size: 2.8rem;
            text-align: center;
            margin-bottom: 1rem;
            letter-spacing: 2px;
        }
        h2 {
            font-size: 2.2rem;
            margin-top: 2rem;
            padding-bottom: 0.5rem;
            border-image: linear-gradient(to right, #00F88D, transparent) 1;
            border-bottom: 2px solid;
        }
        /* Custom message box for displaying alerts without using the alert() function */
        .message-box {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
            text-align: center;
        }
        .message-box.show {
            opacity: 1;
        }
        /* RSVP form container styling */
        .rsvp-form-container {
            padding: 2rem;
            background-color: rgba(45, 55, 72, 0.6);
            border-radius: 1.5rem;
            border: 1px solid rgba(0, 248, 141, 0.3);
            box-shadow: inset 0 0 15px rgba(0, 248, 141, 0.1);
        }
        /* Input field styling */
        .form-input {
            background-color: rgba(45, 55, 72, 0.8);
            border: 1px solid #4a5568;
            color: #e2e8f0;
            transition: all 0.3s ease-in-out;
        }
        /* Focus effect for input fields */
        .form-input:focus {
            outline: none;
            border-color: #00F88D;
            box-shadow: 0 0 10px rgba(0, 248, 141, 0.5);
        }
        /* RSVP button styling with gradient and font */
        .rsvp-button {
            background: linear-gradient(45deg, #00F88D, #4dffb4);
            color: #1a202c;
            font-family: 'Orbitron', sans-serif;
            transition: all 0.3s ease-in-out;
        }
        /* Hover effect for the button */
        .rsvp-button:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 248, 141, 0.5);
        }
        /* Active (click) effect for the button */
        .rsvp-button:active {
            transform: scale(0.98);
            box-shadow: 0 5px 10px rgba(0, 248, 141, 0.3);
        }
        /* Glowing animation for the button */
        @keyframes glowing {
            0% { box-shadow: 0 0 5px #00F88D, 0 0 10px #00F88D; }
            50% { box-shadow: 0 0 20px #00F88D, 0 0 30px #00F88D; }
            100% { box-shadow: 0 0 5px #00F88D, 0 0 10px #00F88D; }
        }
        .animate-glowing-once {
            animation: glowing 1.5s infinite ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen p-4 flex items-center justify-center">

    <div class="container">
        <!-- Main Invitation Section -->
        <header class="text-center">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4">You're Invited! ‚ú®</h1>
            <p class="text-lg md:text-xl text-gray-400">Join us for a cosmic celebration of Sayar Lin's 20th Birthday! üöÄ</p>
        </header>

        <section class="my-8 text-center">
            <div class="bg-gray-800 p-6 rounded-xl shadow-inner inline-block border border-[#00F88D] border-opacity-30">
                <p class="text-2xl font-bold text-[#00F88D]">Date: <span class="font-normal text-gray-200">Saturday, August 23rd</span></p>
                <p class="text-2xl font-bold text-[#00F88D]">Time: <span class="font-normal text-gray-200">1:00 PM onwards</span></p>
                <p class="text-2xl font-bold text-[#00F88D]">Location: <span class="font-normal text-gray-200">Check Google Map Below</span></p>
            </div>
        </section>
        
        <!-- Party Agenda Section -->
        <section class="mt-8">
            <h2 class="text-3xl font-bold">Party Agenda ü§ñ</h2>
            <ul class="list-disc list-inside mt-4 text-lg text-gray-200 space-y-2">
                <li>1:00 PM - 4:00 PM: Check-in, Welcome Drink & Chill Music</li>
                <li>4:00 PM - 6:00 PM: Swimming & BBQ Session</li>
                <li>7:00 PM - 9:00 PM: Chill DJ Set</li>
                <li>9:00 PM onwards: Music, Drink and Dance</li>
				<p> Agenda is flexiable. Do whatever make you fun.</p>
            </ul>
        </section>

        <!-- RSVP Section -->
        <section class="mt-8 rsvp-form-container">
            <h2 class="text-3xl font-bold mb-4">RSVP Terminal</h2>
            <form id="rsvp-form" class="space-y-4">
                <div class="text-lg">
                    <p class="font-semibold text-gray-200">Will you be attending?</p>
                    <div class="mt-2 flex space-x-6">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="attending" value="yes" class="form-radio text-[#00F88D] focus:ring-[#00F88D] h-5 w-5">
                            <span class="text-gray-200">Affirmative</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="attending" value="no" class="form-radio text-[#00F88D] focus:ring-[#00F88D] h-5 w-5">
                            <span class="text-gray-200">Negative</span>
                        </label>
                    </div>
                </div>

                <div id="name-field" class="hidden">
                    <label for="name" class="block text-lg font-semibold text-gray-200 mb-2">Designation:</label>
                    <input type="text" id="name" name="name" placeholder="Enter your name" class="w-full p-3 border rounded-lg focus:outline-none transition-all duration-300 form-input">
                </div>
                
                <button type="submit" class="w-full md:w-auto mt-4 px-6 py-3 font-bold rounded-lg shadow-lg hover:bg-green-400 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-[#00F88D] rsvp-button animate-glowing-once">
                    Transmit RSVP
                </button>
            </form>
        </section>

        <!-- Google Map Section -->
        <section class="mt-8">
            <h2 class="text-3xl font-bold mb-4">Location Matrix üó∫Ô∏è</h2>
            <div class="relative overflow-hidden rounded-xl shadow-lg aspect-w-16 aspect-h-9">
                <!--
                    IMPORTANT: Replace the 'src' URL below with the Google Maps embed URL of your actual party location.
                    1. Go to Google Maps.
                    2. Find your location.
                    3. Click 'Share' -> 'Embed a map' -> 'COPY HTML'.
                    4. Paste the 'src' URL from that code into the 'src' attribute below.
                -->
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.250567610065!2d144.9602525153205!3d-37.81845167975005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad642b5c56d7b5b%3A0xf0567993a4c52c28!2sState%20Library%20Victoria!5e0!3m2!1sen!2sau!4v1628123456789!5m2!1sen!2sau" 
                    width="100%" 
                    height="450" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy"
                    class="rounded-xl">
                </iframe>
            </div>
        </section>

    </div>

    <!-- Custom Message Box for confirmations -->
    <div id="message-box" class="message-box"></div>

    <script>
        const rsvpForm = document.getElementById('rsvp-form');
        const attendingRadios = rsvpForm.querySelectorAll('input[name="attending"]');
        const nameField = document.getElementById('name-field');
        const nameInput = document.getElementById('name');
        const messageBox = document.getElementById('message-box');

        const toggleNameField = (event) => {
            if (event.target.value === 'yes') {
                nameField.classList.remove('hidden');
                nameInput.setAttribute('required', 'required');
            } else {
                nameField.classList.add('hidden');
                nameInput.removeAttribute('required');
            }
        };

        attendingRadios.forEach(radio => {
            radio.addEventListener('change', toggleNameField);
        });

        const showMessageBox = (message, isError = false) => {
            messageBox.textContent = message;
            messageBox.classList.remove('bg-red-600', 'bg-green-600');
            messageBox.classList.add('show');
            if (isError) {
                messageBox.classList.add('bg-red-600');
            } else {
                messageBox.classList.add('bg-green-600');
            }
            setTimeout(() => {
                messageBox.classList.remove('show');
            }, 3000);
        };

		rsvpForm.addEventListener('submit', async (event) => {
		    event.preventDefault();

		    const attending = document.querySelector('input[name="attending"]:checked');

		    if (!attending) {
		        showMessageBox('Please select whether you will be attending.', true);
		        return;
		    }

		    const formData = {
		        attending: attending.value,
		        name: attending.value === 'yes' ? nameInput.value.trim() : 'N/A'
		    };

		    try {
		        const googleScriptUrl = 'https://script.google.com/macros/s/AKfycbxw8oK4xjjrB1R-Uf-NX_yzKv5pnGSUucpSNtOW3NFIPDIINdlVmlyw2F_LUut0dXgE/exec'; // PASTE YOUR URL HERE

		        const response = await fetch(googleScriptUrl, {
		            method: 'POST',
		            headers: {
		                'Content-Type': 'application/json'
		            },
		            body: JSON.stringify(formData)
		        });

		        // Handle the response from Google Apps Script
		        if (response.ok) {
		            if (formData.attending === 'yes') {
		                showMessageBox(`Transmission received, ${formData.name}! Your presence is confirmed.`);
		            } else {
		                showMessageBox('Transmission received. We will miss you! See you in next party.');
		            }
		        } else {
		            showMessageBox(`Error: Failed to submit form.`, true);
		        }
		    } catch (error) {
		        showMessageBox(`Failed to connect to the server. Please try again.`, true);
		        console.error('Fetch error:', error);
		    }

		    rsvpForm.reset();
		    nameField.classList.add('hidden');
		});
        
    </script>
</body>
</html>
